use hotelExtrados
GO

CREATE TABLE room (
id_Room Int primary Key IDENTITY(1,1),
number_Room smallint IDENTITY(100,1) not null, -- Acá puse desde 100 para diferenciar un poquito del id_Room, y otra por q en varios hoteles ví q empiezan de 100.
number_Beds tinyint default 0,
price_Night decimal(4,2) not null,
)

-- Tengo dudas con dejar el status vip y normal en esa ubicación, por que a la hora de comprobar para decir el precio por noche de la 
-- habitación tendría que navegar entre 2 tablas.
CREATE TABLE room_status (
id_Status_Room int FOREIGN KEY REFERENCES room(id_Room),
status_Vip bit default 0,
status_Normal bit default 0,
status_Tv bit default 0,
status_Garage bit default 0,
status_BreakFast bit default 0,
status_RoomService bit default 0,
status_Whirlpool bit default 0,
)

CREATE TABLE booking_client (
dni_Client int primary key not null,
name_Client varchar(20) not null,
surname_Client varchar(20) not null,
email_Client varchar(20) not null, -- ACÁ CONVIENE NVARCHAR ??
)

-- ESTA TABLA VENDRÍA A SER LA CENTRAL POR ASÍ DECIRLO, DESDE ACÁ HAGO TODA LA MOVIDA DE RESERVAR.
CREATE TABLE booking_room (
id_Booking int primary key identity(1,1),
id_Booking_Room int FOREIGN KEY REFERENCES room(id_Room),
id_Booking_Client int FOREIGN KEY REFERENCES booking_client(dni_Client),
)

CREATE TABLE book_details (
id_book_Booking int FOREIGN KEY REFERENCES booking_room(id_Booking),
status_Room varchar(20) default null,
since_Date datetime default getdate(),
until_Date datetime not null,
)